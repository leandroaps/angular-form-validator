!function(){"use strict";function e(e){function t(t,n,r,i){function l(){return $.$valid+p.value+o()}function s(e,t){y.parentElement&&(b=angular.element(a(p,y.parentElement))),f(b),o(),u(),$.$dirty&&$.$valid===!1?(y.above?angular.element(b).prepend(c()):angular.element(b).append(c()),b.addClass(y.parentValidationClass)):b.removeClass(y.parentValidationClass)}function o(){if("custom-validation"in p.attributes)return v=t.$eval(r.customValidation),$.$setValidity("customValidation",v.isValid),v.isValid}function u(e){"async-validation"in p.attributes&&(g=t.$eval(r.asyncValidation),$.$asyncValidators[h+"_async"]=g)}function c(){var a=e.defaultMessages[m()];return y.customMessages&&y.customMessages[m()]&&(a=y.customMessages[m()]),"function"==typeof a&&(a=a(r[m()])),"customValidation"===m()&&(a=v.message),m()===h+"_async"&&(a=t.$eval(r.asyncMessage)),d(a)}function d(e){var t=document.createElement(y.errorElement);return t.setAttribute("class",y.errorElementClass),t.innerHTML=e,t}function m(){return Object.keys($.$error)[0]}function f(e){for(var t=e.children(),a=0;a<t.length;a++)angular.element(t[a]).hasClass(y.errorElementClass)&&angular.element(t[a]).remove()}var v,g,p=n[0],h=p.getAttribute("name"),$=i[h],b=n.parent(),y=angular.extend({above:!1,parentValidationClass:"has-error",parentElement:!1,errorElement:"div",errorElementClass:"help-block with-errors"},t.$eval(r.validationOptions));t.$watch(l,s)}function a(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}var n={restrict:"A",require:"^form",link:t};return n}function t(){function e(e){return"[object Object]"===Object.prototype.toString.call(e)&&"object"==typeof e}function t(){return l.required}function a(){return l.email}function n(e){return l.minlength.replace("$value",e)}function r(e){return l.maxlength.replace("$value",e)}function i(e){return l.pattern.replace("$value",e)}var l=this;l.email="This filed should be email!",l.required="This field is required!",l.minlength="This field must have at least $value characters!",l.maxlength="This field cannot be longer $value than characters!",l.pattern="Wrong patter! Please enter $value",l.defaultMessages={required:t,minlength:n,maxlength:r,pattern:i,email:a},l.setDefaultMessages=function(t){e(t)||console.error("Please provide key:value object. Example: { 'required': 'required text' }");for(var a in t)l[a]=t[a]},l.$get=function(){return l}}angular.module("formValidator",[]).directive("validation",e),e.$inject=["validation"],angular.module("formValidator").provider("validation",t)}();