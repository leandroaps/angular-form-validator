!function(){"use strict";function e(e){function a(a,r,n,l){function i(){return b.$valid+g.value+s()}function o(e,a){if($.parentElement&&(V=angular.element(t(g,$.parentElement)),0==V.length))throw Error("There is no parent element for "+h+" input with the "+$.parentElement+" class.");f(V),s(),u(),b.$dirty&&b.$valid===!1?($.above?angular.element(V).prepend(c()):angular.element(V).append(c()),V.addClass($.parentValidationClass)):V.removeClass($.parentValidationClass)}function s(){if("custom-validation"in g.attributes)return p=a.$eval(n.customValidation),b.$setValidity("customValidation",p.isValid),p.isValid}function u(e){"async-validation"in g.attributes&&(v=a.$eval(n.asyncValidation),b.$asyncValidators[h+"_async"]=v)}function c(){var t=e.defaultMessages[d()];return $.customMessages&&$.customMessages[d()]&&(t=$.customMessages[d()]),"function"==typeof t&&(t=t(n[d()])),"customValidation"===d()&&(t=p.message),d()===h+"_async"&&(t=a.$eval(n.asyncMessage)),m(t)}function m(e){var a=document.createElement($.errorElement);return a.setAttribute("class",$.errorElementClass),a.innerHTML=e,a}function d(){return Object.keys(b.$error)[0]}function f(e){for(var a=e.children(),t=0;t<a.length;t++)angular.element(a[t]).hasClass($.errorElementClass)&&angular.element(a[t]).remove()}var p,v,g=r[0],h=g.getAttribute("name"),b=l[h],V=r.parent(),$=angular.extend({above:!1,parentValidationClass:"has-error",parentElement:!1,errorElement:"div",errorElementClass:"help-block with-errors"},a.$eval(n.validationOptions));a.$watch(i,o)}function t(e,a){for(;(e=e.parentElement)&&!e.classList.contains(a););return e}var r={restrict:"A",require:"^form",link:a};return r}function a(){function e(e){return"[object Object]"===Object.prototype.toString.call(e)&&"object"==typeof e}function a(){return s.required}function t(){return s.email}function r(e){return s.minlength.replace(s.replaceVariable,e)}function n(e){return s.maxlength.replace(s.replaceVariable,e)}function l(e){return s.pattern.replace(s.replaceVariable,e)}function i(e){return s.max.replace(s.replaceVariable,e)}function o(e){return s.min.replace(s.replaceVariable,e)}var s=this;s.email="This filed should be email!",s.required="This field is required!",s.minlength="This field must have at least $value characters!",s.maxlength="This field cannot be longer $value than characters!",s.pattern="Wrong pattern! Please enter $value.",s.max="Please enter a value less than or equal to $value.",s.min="Please enter a value greater than or equal to $value.",s.replaceVariable="$value",s.defaultMessages={required:a,minlength:r,maxlength:n,pattern:l,email:t,max:i,min:o},s.setDefaultMessages=function(a){e(a)||console.error("Please provide key:value object. Example: { 'required': 'required text' }");for(var t in a)s[t]=a[t]},s.$get=function(){return s}}angular.module("formValidator",[]).directive("validation",e),e.$inject=["validation"],angular.module("formValidator").provider("validation",a)}();